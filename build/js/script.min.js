document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("selection"),t=document.getElementById("story-container"),n=document.getElementById("logo"),s=document.getElementById("header"),a=document.getElementById("loading-gif"),i=document.getElementById("spacer"),o="nytimes-story";$((function(){$(e).selectric()})),$(e).on("change",(function(e){n.classList.add("animateLogo"),s.classList.add("animateHeader"),a.classList.remove("hideElement"),i.classList.add("spaceElement"),t.innerHTML="",c()}));const c=()=>{$.ajax({method:"GET",url:"https://api.nytimes.com/svc/topstories/v2/"+e.value+".json?api-key=LfK9pjJw3UwDVJPe2KMmtjXGZvzaUFsD",dataType:"json",success:d,error:l,fail:l})},d=e=>{const t=e.results.filter((function(e){return void 0!==e.multimedia[4]})).slice(0,12);$.each(t,(function(e,t){$(".story-container").append(`<a class=${o} href='${t.short_url}' style='background: url(${t.multimedia[4].url}),url(../../images/nyt-logo-inverse.png); background-size: cover; background-position: center center'> \n                <div class='text-box' >     \n                            <h2 class="nytTitle">${t.title}</h2>\n                            <p class="nytDate">${t.byline}<br>${t.updated_date.slice(0,10)}</p>\n                            <p class="nytAbstract">${t.abstract}</p>\n                            </div>\n                    </a>`)})),$(`.${o}`).hide().first().show(200,(function e(){$(this).next(`.${o}`).show(200,e)})),r()},l=()=>{$(".story-container").append("<p>There seems to be an issue \n                    accessing the New York Times API \n                    at this time, we aplogize for the \n                    issue.</p>"),r()},r=()=>{a.classList.add("hideElement"),i.classList.remove("spaceElement")}}));