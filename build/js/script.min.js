document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("story-container"),t=document.getElementById("logo"),n=document.getElementById("header"),s=document.getElementById("loading-gif"),i=document.getElementById("spacer");$((function(){$("#selection").selectric()})),$("#selection").on("change",(function(){t.classList.add("animateLogo"),n.classList.add("animateHeader"),s.classList.remove("hideElement"),i.classList.add("spaceElement"),e.innerHTML="",$.ajax({method:"GET",url:"http://api.nytimes.com/svc/topstories/v2/"+this.value+".json?api-key=LfK9pjJw3UwDVJPe2KMmtjXGZvzaUFsD",dataType:"json"}).done((function(e){const t=e.results.filter((function(e){return void 0!==e.multimedia[4]})).slice(0,12);$.each(t,(function(e,t){$(".story-container").append(`<a class='nytimes-story' href='${t.short_url}' style='background: url(${t.multimedia[4].url}),url(../../images/nyt-logo-inverse.png); background-size: cover; background-position: center center'> \n                        <div class='text-box' >     \n                            <h2 class="nytTitle">${t.title}</h2>\n                            <p class="nytDate">${t.byline}<br>${t.updated_date.slice(0,10)}</p>\n                            <p class="nytAbstract">${t.abstract}</p>\n                        </div>\n                    </a>`)})),$(".nytimes-story").hide().first().show(200,(function e(){$(this).next(".nytimes-story").show(200,e)}))})).fail((function(){$(".story-container").append("<p>There seems to be an issue \n                    accessing the New York Times API \n                    at this time, we aplogize for the \n                    issue.</p>")})).always((function(){s.classList.add("hideElement"),i.classList.remove("spaceElement")}))}))}));